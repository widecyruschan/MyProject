<?phpinclude 'inc/header.php';if ($uc_switch==1){include '../uc_client/client.php';}?><script language="JavaScript" type="text/JavaScript">// 日期选择var months = new Array("一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"); var daysInMonth = new Array(31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31); var days = new Array("日","一", "二", "三", "四", "五", "六"); var today; document.writeln("<div id='Calendar' style='position:absolute; z-index:1; visibility: hidden; filter:\"progid:DXImageTransform.Microsoft.Shadow(direction=135,color=#999999,strength=3)\"'></div>");function getDays(month, year){ //下面的这段代码是判断当前是否是闰年的 if (1 == month) return ((0 == year % 4) && (0 != (year % 100))) || (0 == year % 400) ? 29 : 28; else return daysInMonth[month]; } function getToday() { //得到今天的年,月,日 this.now = new Date(); this.year = this.now.getFullYear(); this.month = this.now.getMonth(); this.day = this.now.getDate(); }function getStringDay(str) { //得到输入框的年,月,日var str=str.split("-")this.now = new Date(parseFloat(str[0]),parseFloat(str[1])-1,parseFloat(str[2])); this.year = this.now.getFullYear(); this.month = this.now.getMonth(); this.day = this.now.getDate(); }function newCalendar() { var parseYear = parseInt(document.all.Year.options[document.all.Year.selectedIndex].value); var newCal = new Date(parseYear, document.all.Month.selectedIndex, 1); var day = -1; var startDay = newCal.getDay(); var daily = 0; if ((today.year == newCal.getFullYear()) &&(today.month == newCal.getMonth())) day = today.day; var tableCal = document.all.calendar; var intDaysInMonth =getDays(newCal.getMonth(), newCal.getFullYear());for (var intWeek = 1; intWeek < tableCal.rows.length;intWeek++) for (var intDay = 0;intDay < tableCal.rows[intWeek].cells.length;intDay++) { var cell = tableCal.rows[intWeek].cells[intDay]; if ((intDay == startDay) && (0 == daily)) daily = 1; if(day==daily) //今天，调用今天的Class {cell.style.background='#cccccc';cell.style.color='#FFFFFF';//cell.style.fontWeight='bold';}else if(intDay==6) //周六 cell.style.color='green'; else if (intDay==0) //周日 cell.style.color='red';if ((daily > 0) && (daily <= intDaysInMonth)) { cell.innerText = daily; daily++; } else cell.innerText = ""; } } function GetDate(InputBox){ var sDate; //这段代码处理鼠标点击的情况 if (event.srcElement.tagName == "TD") if (event.srcElement.innerText != "") { sDate = document.all.Year.value + "-" + document.all.Month.value + "-" + event.srcElement.innerText;eval("document.all."+InputBox).value=sDate;HiddenCalendar();} } function HiddenCalendar(){//关闭选择窗口document.all.Calendar.style.visibility='hidden';}function ShowCalendar(InputBox){var x,y,intLoop,intWeeks,intDays;var DivContent;var year,month,day;var o=eval("document.all."+InputBox);var thisyear; //真正的今年年份thisyear=new getToday();thisyear=thisyear.year;today = o.value;if(isDate(today))today = new getStringDay(today);elsetoday = new getToday(); //显示的位置x=o.offsetLeft;y=o.offsetTop;while(o=o.offsetParent){x+=o.offsetLeft;y+=o.offsetTop;}document.all.Calendar.style.left=x+2;document.all.Calendar.style.top=y+20;document.all.Calendar.style.visibility="visible";//下面开始输出日历表格(border-color:#9DBAF7)DivContent="<table border='0' cellspacing='0' style='border:1px solid #0066FF; background-color:#EDF2FC'>";DivContent+="<tr>";DivContent+="<td style='border-bottom:1px solid #0066FF; background-color:#C7D8FA'>";//年DivContent+="<select name='Year' id='Year' onChange='newCalendar()' style='font-family:Verdana; font-size:12px'>";for (intLoop = thisyear - 35; intLoop < (thisyear + 2); intLoop++) DivContent+="<option value= " + intLoop + " " + (today.year == intLoop ? "Selected" : "") + ">" + intLoop + "</option>"; DivContent+="</select>";//月DivContent+="<select name='Month' id='Month' onChange='newCalendar()' style='font-family:Verdana; font-size:12px'>";for (intLoop = 0; intLoop < months.length; intLoop++) DivContent+="<option value= " + (intLoop + 1) + " " + (today.month == intLoop ? "Selected" : "") + ">" + months[intLoop] + "</option>"; DivContent+="</select>";DivContent+="</td>";DivContent+="<td style='border-bottom:1px solid #0066FF; background-color:#C7D8FA; font-weight:bold; font-family:Wingdings 2,Wingdings,Webdings; font-size:16px; padding-top:2px; color:#4477FF; cursor:hand' align='center' title='关闭' onClick='javascript:HiddenCalendar()'>S</td>";DivContent+="</tr>";DivContent+="<tr><td align='center' colspan='2'>";DivContent+="<table id='calendar' border='0' width='100%'>";//星期DivContent+="<tr>";for (intLoop = 0; intLoop < days.length; intLoop++) DivContent+="<td align='center' style='font-size:12px'>" + days[intLoop] + "</td>"; DivContent+="</tr>";//天for (intWeeks = 0; intWeeks < 6; intWeeks++){ DivContent+="<tr>"; for (intDays = 0; intDays < days.length; intDays++) DivContent+="<td onClick='GetDate(\"" + InputBox + "\")' style='cursor:hand; border-right:1px solid #BBBBBB; border-bottom:1px solid #BBBBBB; color:#215DC6; font-family:Verdana; font-size:12px' align='center'></td>"; DivContent+="</tr>"; } DivContent+="</table></td></tr></table>";document.all.Calendar.innerHTML=DivContent;newCalendar();}function isDate(dateStr){ var datePat = /^(\d{4})(\-)(\d{1,2})(\-)(\d{1,2})$/;var matchArray = dateStr.match(datePat);if (matchArray == null) return false; var month = matchArray[3];var day = matchArray[5]; var year = matchArray[1]; if (month < 1 || month > 12) return false; if (day < 1 || day > 31) return false; if ((month==4 || month==6 || month==9 || month==11) && day==31) return false; if (month == 2){var isleap = (year % 4 == 0 && (year % 100 != 0 || year % 400 == 0)); if (day > 29 || (day==29 && !isleap)) return false; } return true;}</script><style type="text/css"><!--td,input {font-family: Verdana, Arial, Helvetica, sans-serif;font-size: 12px;}--></style><?phpfunction edits( ){				global $db,$DB_dbprefix;				$db->query( "SELECT * FROM {$DB_dbprefix}member WHERE id=".$_GET['id'] );				if ( $db->next_record( ) )				{								echo "<script language=\"javascript\" src=\"inc/js.js\"></script>\n<table width=\"98%\" border=\"1\" align=\"center\" cellpadding=\"5\" cellspacing=\"0\" class=\"table\">\r\n<form action=\"Admin_Member.php?Action=edit\" method=\"post\" onSubmit=\"return Validator.Validate(this,3)\">\r\n  <input name=\"id\" type=\"hidden\" value=\"";								echo $db->Record['id'];								echo "\"/>\r\n  <tr>\r\n    <td width=\"15%\" align=\"right\">会员账号：</td>\r\n    <td> <input name=\"user\" type=\"text\" value=\"";								echo $db->Record['user'];								echo "\" size=\"20\" dataType=\"LimitB\" min=\"3\" max=\"20\" msg=\"用户名必须在3,20个字节之内\"/></td>\r\n    </tr>\r\n <tr>\r\n    <td align=\"right\"> 密码：</td>\r\n    <td><input  name=\"password\" type=\"password\" value=\"\" size=\"40\"/>*留空则不修改密码</td>\r\n    </tr>\r\n  <tr>\r\n    <td align=\"right\">重复密码： </td>\r\n    <td><input  name=\"password2\" type=\"password\" value=\"\" size=\"40\" dataType=\"Repeat\" to=\"password\" msg=\"两次输入的密码不一致\"/></td>\r\n  </tr>\r\n<tr><td align=\"right\">邮箱地址： </td><td><input  name=\"email\" type=\"text\" value=\"";								echo $db->Record['email'];								echo "\" size=\"40\"  dataType=\"Email\" msg=\"邮箱格式不正确\"/></td></tr><tr><td align=\"right\"><font color=red>可用金额：</font></td><td><input  name=\"deposit\" type=\"text\" value=\"";								echo $db->Record['deposit'];								echo "\" size=\"20\" /></td></tr><tr><td align=\"right\">积分：</td><td><input  name=\"points\" type=\"text\" value=\"";								echo $db->Record['points'];								echo "\" size=\"20\" /></td></tr><tr><td align=\"right\">真实姓名： </td><td><input  name=\"name\" type=\"text\" value=\"";								echo $db->Record['name'];								echo "\" size=\"20\" /></td></tr><tr><td align=\"right\">性别： </td><td><select name=\"sex\"> <option   ";								if ($db->Record['sex']=='女'){								echo "SELECTED   ";								}								echo"value=\"女\">女</option>  <option   ";								if ($db->Record['sex']=='男'){								echo "SELECTED   ";								}								echo "value=\"男\">男</option> </select></td></tr><tr><td align=\"right\">联系地址： </td><td><input  name=\"place\" type=\"text\" value=\"";								if ($db->Record['place']==3){									echo "上海";								}else if($db->Record['place']==4){									echo "泸州";								}else if($db->Record['place']==5){									echo "唐山";								}else if($db->Record['place']==6){									echo "南宁";								}else if($db->Record['place']==7){									echo "广州";								}else{									echo $db->Record['place'];								}								echo "\" size=\"40\" /></td></tr><tr><td align=\"right\">邮编： </td><td><input  name=\"zip\" type=\"text\" value=\"";								echo $db->Record['zip'];								echo "\" size=\"20\" /></td></tr><tr><td align=\"right\">QQ： </td><td><input  name=\"qq\" type=\"text\" value=\"";								echo $db->Record['qq'];								echo "\" size=\"20\" /></td></tr><tr><td align=\"right\">MSN： </td><td><input  name=\"msn\" type=\"text\" value=\"";								echo $db->Record['msn'];								echo "\" size=\"40\" /></td></tr><tr><td align=\"right\">联系电话： </td><td><input  name=\"tel\" type=\"text\" value=\"";								echo $db->Record['tel'];								echo "\" size=\"40\" /></td></tr><tr><td align=\"right\">生日： </td><td><input name='brithday' type='text' id='birthday' title='点击选择' onClick='javascript:ShowCalendar(this.id)' size='20' value=\"";                                echo date('Y-m-d',$db->Record['brithday']);                                echo "\"></td></tr><tr><td align=\"right\">安全问题： </td><td><input  name=\"passquestion\" type=\"text\" value=\"";								echo $db->Record['passquestion'];								echo "\" size=\"40\" /></td></tr><tr><td align=\"right\">答案： </td><td><input  name=\"passanswer\" type=\"text\" value=\"";								echo $db->Record['passanswer'];								echo"\" size=\"40\" /><tr align=\"center\">\r\n    <td colspan=\"2\"><input type=\"submit\" name=\"Submit_edit\" value=\"确定修改\" ></td>\r\n  </tr>\r\n</form>\r\n</table>\r\n";				}}include( "inc/header.php" );login_check();echo "<body>\r\n<table width=\"98%\" border=\"1\" align=\"center\" cellpadding=\"5\" cellspacing=\"0\" class=\"table\">\r\n  <tr>\r\n    <td><a href=\"Admin_Member.php\"> 会员管理</a> ｜ <a href=\"Admin_Member.php?Action=add\">添加新会员</a></td>\r\n  </tr>\r\n</table>\r\n<br>\r\n";switch ( $_GET['Action'] ){case "add" :				echo "<script language=\"javascript\" src=\"inc/js.js\"></script><table width=\"98%\" border=\"1\" align=\"center\" cellpadding=\"5\" cellspacing=\"0\" class=\"table\"><form action=\"Admin_Member.php?Action=adds\" method=\"post\" onSubmit=\"return Validator.Validate(this,3)\"><input name=\"id\" type=\"hidden\" value=\"\" /><tr><td width=\"15%\" align=\"right\">会员账号：</td><td> <input name=\"user\" type=\"text\" value=\"\" size=\"20\" dataType=\"LimitB\" min=\"3\" max=\"20\" msg=\"用户名必须在3,20个字节之内\"/></td></tr><tr><td align=\"right\"> 密码：</td><td><input  name=\"password\" type=\"password\" value=\"\" size=\"40\" dataType=\"LimitB\" min=\"6\" max=\"20\" msg=\"密码必须在6,20个字节之内\" /></td></tr>  <tr><td align=\"right\">重复密码： </td><td><input  name=\"password2\" type=\"password\" value=\"\" size=\"40\" dataType=\"Repeat\" to=\"password\" msg=\"两次输入的密码不一致\"  /></td></tr> <tr><td align=\"right\">邮箱地址： </td><td><input  name=\"email\" type=\"text\" value=\"\" size=\"40\" dataType=\"Email\" msg=\"邮箱格式不正确\"/></td></tr><tr><td align=\"right\"><font color=red>可用金额：</font> </td><td><input  name=\"deposit\" type=\"text\" value=\"\" size=\"20\" /></td></tr> <tr><td align=\"right\">积分： </td><td><input  name=\"points\" type=\"text\" value=\"\" size=\"20\" /></td></tr><tr><td align=\"right\">真实姓名： </td><td><input  name=\"name\" type=\"text\" value=\"\" size=\"20\" /></td></tr> <tr><td align=\"right\">性别： </td><td> <select name=\"sex\">  <option  SELECTED>性别</option>   <option value=\"女\">女</option>  <option  value=\"男\">男</option> </select></td></tr>  <tr><td align=\"right\">联系地址： </td><td><input  name=\"place\" type=\"text\" value=\"\" size=\"40\" /></td></tr> <tr><td align=\"right\">邮编号码： </td><td><input  name=\"zip\" type=\"text\" value=\"\" size=\"20\" /></td></tr><tr><td align=\"right\">QQ： </td><td><input  name=\"qq\" type=\"text\" value=\"\" size=\"20\" /></td></tr><tr><td align=\"right\">MSN： </td><td><input  name=\"msn\" type=\"text\" value=\"\" size=\"40\" /></td></tr><tr><td align=\"right\">联系电话： </td><td><input  name=\"tel\" type=\"text\" value=\"\" size=\"40\" /></td></tr><tr><td align=\"right\">生日： </td><td><input name='brithday' type='text' id='birthday' title='点击选择' onClick='javascript:ShowCalendar(this.id)' size='20'/></td></tr><tr><td align=\"right\">安全问题： </td><td><input  name=\"passquestion\" type=\"text\" value=\"\" size=\"40\" /></td></tr><tr><td align=\"right\">答案： </td><td><input  name=\"passanswer\" type=\"text\" value=\"\" size=\"40\" /></td></tr>				<tr align=\"center\"><td colspan=\"2\"><input type=\"submit\" name=\"Submit_edit\" value=\"确定提交\" ></td></tr></form></table>";				break;case "adds" :				if ( function_exists( "date_default_timezone_set" ) )				{								date_default_timezone_set( "Hongkong" );				}				@$lastime = @date( "Y-m-d H-i-s" );				@$GLOBALS['_POST']['password'] = @md5($_POST['password']) ;if ($uc_switch==1){					$uid = uc_user_register($_POST['user'], $_POST['password'], $_POST['email']);                    if($uid <= 0) {	                if($uid == -1) {	            	admin_showerr( "<li>用户名不合法</li>", "Admin_Member.php?Action=add", 0 );	                } elseif($uid == -2) {	            	admin_showerr( "<li>包含不允许注册的语句</li>", "Admin_Member.php?Action=add", 0 );                	} elseif($uid == -3) {	            	admin_showerr( "<li>用户名已经存在</li>", "Admin_Member.php?Action=add", 0 );                	} elseif($uid == -4) {	            	admin_showerr( "<li>邮箱格式错误</li>", "Admin_Member.php?Action=add", 0 );	                } elseif($uid == -5) {	            	admin_showerr( "<li>该邮箱不允许使用</li>", "Admin_Member.php?Action=add", 0 );                	} elseif($uid == -6) {            		admin_showerr( "<li>该邮箱已存在</li>", "Admin_Member.php?Action=add", 0 );                	} else {	            	admin_showerr( "<li>未定义</li>", "Admin_Member.php?Action=add", 0 );                	}                 } else {                    }}                $brithday= strtotime($_POST['brithday']);                $db->query( "INSERT INTO {$DB_dbprefix}member (user,password,email,points,deposit,name,sex,place,zip,qq,msn,tel,brithday,passquestion,passanswer) VALUES \r\n\t\t\t\t\t('".$_POST['user']."','{$_POST['password']}','{$_POST['email']}','{$_POST['points']}','{$_POST['deposit']}','{$_POST['name']}','{$_POST['sex']}','{$_POST['place']}','{$_POST['zip']}','{$_POST['qq']}','{$_POST['msn']}','{$_POST['tel']}','{$brithday}','{$_POST['passquestion']}','{$_POST['passanswer']}')" );				addlog( "添加会员", $_SESSION['user_name'] );				admin_showerr( "<li>添加会员成功</li>", "Admin_Member.php", 1 );				break;case "edits" :				edits( );				break;case "edit" :$brithday= strtotime($_POST['brithday']);				if ( $_POST['password2'] != $_POST['password'] )				{								echo "<script>alert(\"两次输入密码不一致,请重新输入\");</script>";								work_back( "<br>正在返回上一页", "Admin_Member.php?Action=edits&id=".$_POST['id'] );								exit( );				}				$password=$_POST[password];				@$GLOBALS['_POST'][password] = @md5($_POST[password]);								if ($uc_switch==1){					$ucresult = uc_user_edit($_POST['user'], '', $password, $_POST['email'] ,'1', $_POST['passquestion'] ,$_POST['passanswer']);                    if($ucresult == -4) {					  admin_showerr( "<li>Email 格式有误</li>", "Admin_Member.php?Action=edits&id=".$_POST['id']."", 1 );                    } elseif($ucresult == -5) {					  admin_showerr( "<li>Email 不允许注册</li>", "Admin_Member.php", 1 );                    } elseif($ucresult == -6) {					  admin_showerr( "<li>该 Email 已经被注册</li>", "Admin_Member.php", 1 );                    }				}				if ($password!="")				{				$db->query( "UPDATE {$DB_dbprefix}member SET user='".$_POST['user']."',password='{$_POST['password']}',email='{$_POST['email']}',points='{$_POST['points']}',deposit='{$_POST['deposit']}',name='{$_POST['name']}',sex='{$_POST['sex']}',place='{$_POST['place']}',zip='{$_POST['zip']}',qq='{$_POST['qq']}',msn='{$_POST['msn']}',tel='{$_POST['tel']}',brithday='{$brithday}',passquestion='{$_POST['passquestion']}',passanswer='{$_POST['passanswer']}' WHERE id={$_POST['id']}" );				}else{				$db->query( "UPDATE {$DB_dbprefix}member SET user='".$_POST['user']."',email='{$_POST['email']}',points='{$_POST['points']}',deposit='{$_POST['deposit']}',name='{$_POST['name']}',sex='{$_POST['sex']}',place='{$_POST['place']}',zip='{$_POST['zip']}',qq='{$_POST['qq']}',msn='{$_POST['msn']}',tel='{$_POST['tel']}',brithday='{$brithday}',passquestion='{$_POST['passquestion']}',passanswer='{$_POST['passanswer']}' WHERE id={$_POST['id']}" );					}				addlog( "修改会员", $_SESSION['user_name'] );				admin_showerr( "<li>修改会员成功</li>", "Admin_Member.php", 1 );				break;case "del" :				if ($uc_switch==1){				$ucresult  = uc_user_delete($_GET['id']);				}				$db->query( "DELETE FROM {$DB_dbprefix}member WHERE id=".$_GET['id'] );				addlog( "删除会员", $_SESSION['user_name'] );				admin_showerr( "<li>删除会员成功</li>", "Admin_Member.php", 1 );				break;default :				@$intPerpage = 20;				if ( $_GET['PB_page'] )				{								$offset = ( $_GET['PB_page'] - 1 ) * $intPerpage;				}				else				{								$offset = 0;				}				if ( $_GET['keyword'] != "" )				{								$strSql = "SELECT * FROM {$DB_dbprefix}member WHERE place like '%".trim( $_GET['keyword'] )."%' or points like '%".trim( $_GET['keyword'] )."%' or user like '%".trim( $_GET['keyword'] )."%' or name like '%".trim( $_GET['keyword'] )."%'";								$execc = "SELECT id FROM {$DB_dbprefix}member WHERE place like '%".trim( $_GET['keyword'] )."%' or points like '%".trim( $_GET['keyword'] )."%' or user like '%".trim( $_GET['keyword'] )."%' or name like '%".trim( $_GET['keyword'] )."%'";				}				else				{								$strSql = "SELECT * FROM {$DB_dbprefix}member";								$execc = "SELECT id FROM {$DB_dbprefix}member";				}				if ( isset( $_GET['Attribute'] ) )				{								$strSql .= " where ".$_GET['Attribute']."=1";								$execc .= " where ".$_GET['Attribute']."=1";				}				if ( empty( $_GET['Sorting'] ) )				{								$strSql .= " Order by id desc limit ".$offset.",{$intPerpage}";				}				else				{								$strSql .= " Order by ".$_GET['Sorting']." desc limit {$offset},{$intPerpage}";				}				$resultc = mysql_query( $execc );				$intNum = mysql_num_rows( $resultc );				$db->query( $strSql );				echo "<table width=\"98%\" border=\"1\" align=\"center\" cellpadding=\"5\" cellspacing=\"0\" class=\"table\">\r\n  <tr width=\"10%\" >\r\n<form action=\"Admin_Member.php\" method=\"get\"> \r\n   <td align=\"right\"> \r\n<strong>会员搜索</strong>：</td>\r\n   <td width=\"44%\"><input name=\"keyword\" type=\"text\" style=\"width: 200px\" />\r\n     <input name=\"Submit\" type=\"submit\" id=\"Submit\" value=\"开始搜索\"></td>\r\n</form>\r\n   <td><strong>查看方式</strong>:       \r\n     <a href=\"Admin_Member.php?Sorting=id\">会员ID</a> |  \r\n      <a href=\"Admin_Member.php?Sorting=points\">积分</a> | \r\n <a href=\"Admin_Member.php?Sorting=place\">地区</a> | \r\n    <a href=\"Admin_Member.php?Sorting=sex\">性别</a></td>\r\n  </tr>\r\n</table>\r\n<br />\r\n<table width=\"98%\" border=\"1\" align=\"center\" cellpadding=\"5\" cellspacing=\"0\" class=\"table\">\r\n<form  name=\"forms\" action=\"Admin_Member.php\" method=\"post\">\r\n  <tr>\r\n   \r\n    <td width=\"5%\" align=\"center\"><strong>ID</strong></td>\r\n    <td align=\"center\"><strong>会员账号</strong></td>\r\n    <td width=\"10%\" align=\"center\"><strong>真实姓名</strong></td>\r\n   \r\n    <td width=\"5%\" align=\"center\"><strong>性别</strong></td>\r\n  <td width=\"10%\" align=\"center\"><strong>积分</strong></td>   <td width=\"10%\" align=\"center\"><strong>地区</strong></td>\r\n       <td width=\"12%\" align=\"center\"><strong>操作</strong></td>\r\n  </tr>\r\n";				while ( $db->next_record( ) )				{								echo "  <tr onmouseover=\"this.bgColor='#D3EDFC'\" onmouseout=\"this.bgColor='#eff7fd'\">\r\n   <td align=\"center\">";								echo $db->Record['id'];								echo "</td>\r\n    <td>";								echo $db->Record['user'];								echo "</td>\r\n    <td align=\"center\">";								echo $db->Record['name'];								echo "</td>\r\n    <td  align=\"center\">\r\n\t";								echo $db->Record['sex'];								echo "</td>\r\n    <td  align=\"center\">\r\n\t";								echo $db->Record['points'];								echo "</td>\r\n  <td  align=\"center\">\r\n\t";								echo $db->Record['place'];								echo "</td>\r\n     <td align=\"center\"><a href=\"Admin_Member.php?Action=edits&id=";								echo $db->Record['id'];								echo "\">修改</a> ｜<a href=\"Admin_Member.php?Action=del&id=";								echo $db->Record['id'];								echo "\">删除</a></td>\r\n  </tr>\r\n";				}				echo "  \r\n</form>\r\n  <tr>\r\n    <td colspan=\"9\">";				require_once( "../inc/class.page.php" );				class mypage extends page				{								function show( )								{												$_showpage = "<div class=\"pagenavi\" id=\"lopage\">";												$_showpage .= $this->first_page( )." ";												$_showpage .= $this->nowbar( "", "curr" );												$_showpage .= "<span class=\"break\">...</span>";												$_showpage .= $this->last_page( );												$_showpage .= "   (总计<span class=\"num\">".$this->totalpage."</span>页 <span class=\"num\">".$this->total."</span>条记录)</div>";												$_showpage .= "</div>";												return $_showpage;								}				}				$page = new mypage( array(								"total" => $intNum,								"perpage" => $intPerpage				) );				echo $page->show( );}echo "</td>\r\n  </tr>\r\n</table>\r\n</body>\r\n</html>";?>